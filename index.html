<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=D51V29r3BtOBcI-sslA47O8jIPjTQU7QNKxmjSmvtk8);ol{margin:0;padding:0}table td,table th{padding:0}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Google Sans Text";font-style:normal}.c4{color:#1b1c1d;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Google Sans Text";font-style:normal}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.149999976158142;text-align:left}.c2{padding-top:0pt;padding-bottom:12pt;line-height:1.149999976158142;text-align:left}.c3{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Arial";line-height:1.0;page-break-after:avoid;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.0;page-break-after:avoid;font-style:italic;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:12pt;color:#000000;font-weight:700;font-size:24pt;padding-bottom:12pt;font-family:"Arial";line-height:1.0;text-align:left}h2{padding-top:11.2pt;color:#000000;font-weight:700;font-size:18pt;padding-bottom:11.2pt;font-family:"Arial";line-height:1.0;text-align:left}h3{padding-top:12pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:12pt;font-family:"Arial";line-height:1.0;text-align:left}h4{padding-top:12.8pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:12.8pt;font-family:"Arial";line-height:1.0;text-align:left}h5{padding-top:12.8pt;color:#000000;font-weight:700;font-size:9pt;padding-bottom:12.8pt;font-family:"Arial";line-height:1.0;text-align:left}h6{padding-top:18pt;color:#000000;font-weight:700;font-size:8pt;padding-bottom:18pt;font-family:"Arial";line-height:1.0;text-align:left}</style></head><body class="c3 doc-content"><p class="c1"><span class="c0">PK &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (</span></p><p class="c1"><span class="c0">Growsports Dashboard/lms.htmlPK &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (</span></p><p class="c2"><span class="c4">&lt;!DOCTYPE html&gt;</span></p><p class="c1"><span class="c0">&lt;html lang=&quot;en&quot;&gt;</span></p><p class="c1"><span class="c0">&lt;head&gt;</span></p><p class="c1"><span class="c0">&lt;meta charset=&quot;UTF-8&quot;&gt;</span></p><p class="c1"><span class="c0">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span></p><p class="c1"><span class="c0">&lt;title&gt;Growsports Dashboard&lt;/title&gt;</span></p><p class="c1"><span class="c0">&lt;script src=&quot;https://www.google.com/search?q=https://cdn.tailwindcss.com&quot;&gt;&lt;/script&gt;</span></p><p class="c1"><span class="c0">&lt;link rel=&quot;preconnect&quot; href=&quot;https://www.google.com/search?q=https://fonts.googleapis.com&quot;&gt;</span></p><p class="c1"><span class="c0">&lt;link rel=&quot;preconnect&quot; href=&quot;https://www.google.com/search?q=https://fonts.gstatic.com&quot; crossorigin&gt;</span></p><p class="c1"><span class="c0">&lt;link href=&quot;https://www.google.com/search?q=https://fonts.googleapis.com/css2%3Ffamily%3DInter:wght%40400%3B500%3B600%3B700%26display%3Dswap&quot; rel=&quot;stylesheet&quot;&gt;</span></p><p class="c1"><span class="c0">&lt;style&gt;</span></p><p class="c1"><span class="c0">:root {</span></p><p class="c1"><span class="c0">color-scheme: dark;</span></p><p class="c1"><span class="c0">}</span></p><p class="c1"><span class="c0">body {</span></p><p class="c1"><span class="c0">font-family: &#39;Inter&#39;, sans-serif;</span></p><p class="c1"><span class="c0">background-color: #0d0d0d;</span></p><p class="c1"><span class="c0">transition: background-color 0.3s ease;</span></p><p class="c1"><span class="c0">}</span></p><p class="c1"><span class="c0">.light body {</span></p><p class="c1"><span class="c0">background-color: #f3f4f6;</span></p><p class="c1"><span class="c0">}</span></p><p class="c1"><span class="c0">.modal {</span></p><p class="c1"><span class="c0">display: none;</span></p><p class="c1"><span class="c0">position: fixed;</span></p><p class="c1"><span class="c0">z-index: 1000;</span></p><p class="c1"><span class="c0">left: 0;</span></p><p class="c1"><span class="c0">top: 0;</span></p><p class="c1"><span class="c0">width: 100%;</span></p><p class="c1"><span class="c0">height: 100%;</span></p><p class="c1"><span class="c0">overflow: auto;</span></p><p class="c1"><span class="c0">background-color: rgba(0,0,0,0.4);</span></p><p class="c1"><span class="c0">}</span></p><p class="c1"><span class="c0">.modal-content {</span></p><p class="c1"><span class="c0">background-color: #1a1a1a;</span></p><p class="c1"><span class="c0">margin: 15% auto;</span></p><p class="c1"><span class="c0">padding: 24px;</span></p><p class="c1"><span class="c0">border-radius: 12px;</span></p><p class="c1"><span class="c0">width: 90%;</span></p><p class="c1"><span class="c0">max-width: 500px;</span></p><p class="c1"><span class="c0">box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);</span></p><p class="c1"><span class="c0">animation: fadeIn 0.3s ease-in-out;</span></p><p class="c1"><span class="c0">color: #f3f4f6;</span></p><p class="c1"><span class="c0">transition: background-color 0.3s ease, color 0.3s ease;</span></p><p class="c1"><span class="c0">}</span></p><p class="c1"><span class="c0">.light .modal-content {</span></p><p class="c1"><span class="c0">background-color: #ffffff;</span></p><p class="c1"><span class="c0">color: #1a1a1a;</span></p><p class="c1"><span class="c0">}</span></p><p class="c1"><span class="c0">@keyframes fadeIn {</span></p><p class="c1"><span class="c0">from { opacity: 0; transform: translateY(-20px); }</span></p><p class="c1"><span class="c0">to { opacity: 1; transform: translateY(0); }</span></p><p class="c1"><span class="c0">}</span></p><p class="c1"><span class="c0">.message-box {</span></p><p class="c1"><span class="c0">transition: transform 0.5s ease-in-out;</span></p><p class="c1"><span class="c0">}</span></p><p class="c1"><span class="c0">&lt;/style&gt;</span></p><p class="c1"><span class="c0">&lt;/head&gt;</span></p><p class="c1"><span class="c0">&lt;body class=&quot;bg-gradient-to-br from-gray-900 to-black min-h-screen flex flex-col items-center text-gray-100 dark&quot;&gt;</span></p><p class="c2"><span class="c4">&lt;!-- Header --&gt;<br>&lt;header class=&quot;bg-gray-800 shadow-lg w-full p-4 flex justify-between items-center fixed top-0 z-50 light:bg-white light:text-gray-900 light:shadow-sm&quot;&gt;<br> &nbsp; &nbsp;&lt;div class=&quot;flex items-center space-x-2&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;svg class=&quot;h-8 w-8 text-green-500 light:text-blue-500&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;path stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M12 6.253v13m0-13C10.835 5.485 9.208 5 7.5 5S4.165 5.485 3 6.253v13C4.165 18.515 5.835 19 7.5 19s3.335-.485 4.5-1.247m0-13C13.165 5.485 14.835 5 16.5 5s3.335.485 4.5 1.247v13C19.835 18.515 18.165 19 16.5 19s-3.335-.485-4.5-1.247m0 0V5&quot; /&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/svg&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;h1 class=&quot;text-2xl font-bold text-white light:text-gray-800&quot;&gt;Growsports Dashboard&lt;/h1&gt;<br> &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp;&lt;div class=&quot;flex items-center space-x-2&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;button id=&quot;themeToggle&quot; class=&quot;p-2 rounded-full hover:bg-gray-700 light:hover:bg-gray-200 transition-colors duration-200&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;svg id=&quot;moonIcon&quot; class=&quot;h-6 w-6 text-gray-300 light:hidden&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;path stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z&quot; /&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/svg&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;svg id=&quot;sunIcon&quot; class=&quot;h-6 w-6 text-yellow-500 hidden light:block&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;path stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z&quot; /&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/svg&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/button&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;span id=&quot;userIdDisplay&quot; class=&quot;text-xs text-gray-400 font-mono hidden sm:block light:text-gray-600&quot;&gt;&lt;/span&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;button id=&quot;authButton&quot; class=&quot;bg-green-600 text-white px-4 py-2 rounded-md font-medium hover:bg-green-700 transition duration-300 shadow-lg light:bg-blue-600 light:hover:bg-blue-700&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Log In<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/button&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;button id=&quot;logoutButton&quot; class=&quot;bg-red-600 text-white px-4 py-2 rounded-md font-medium hover:bg-red-700 transition duration-300 shadow-lg hidden&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Log Out<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/button&gt;<br> &nbsp; &nbsp;&lt;/div&gt;<br>&lt;/header&gt;<br><br>&lt;main id=&quot;mainContent&quot; class=&quot;container mx-auto p-4 mt-20 sm:mt-24 hidden&quot;&gt;<br> &nbsp; &nbsp;&lt;!-- Message Box for Alerts and Success Messages --&gt;<br> &nbsp; &nbsp;&lt;div id=&quot;messageBox&quot; class=&quot;message-box hidden fixed top-24 right-4 p-4 rounded-md shadow-lg z-50 transform-gpu translate-x-full&quot; role=&quot;alert&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;p id=&quot;messageText&quot; class=&quot;font-medium&quot;&gt;&lt;/p&gt;<br> &nbsp; &nbsp;&lt;/div&gt;<br><br> &nbsp; &nbsp;&lt;!-- Admin Navigation Tabs --&gt;<br> &nbsp; &nbsp;&lt;div id=&quot;adminTabs&quot; class=&quot;flex justify-center space-x-4 mb-6 hidden&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;button id=&quot;myCoursesTab&quot; class=&quot;py-2 px-4 rounded-md font-medium text-gray-400 hover:bg-gray-800 focus:bg-gray-700 transition-colors duration-200 light:text-gray-600 light:hover:bg-gray-200 light:focus:bg-gray-300&quot;&gt;My Courses&lt;/button&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;button id=&quot;adminPanelTab&quot; class=&quot;py-2 px-4 rounded-md font-medium text-gray-400 hover:bg-gray-800 focus:bg-gray-700 transition-colors duration-200 light:text-gray-600 light:hover:bg-gray-200 light:focus:bg-gray-300&quot;&gt;Admin Panel&lt;/button&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;button id=&quot;mediaLibraryTab&quot; class=&quot;py-2 px-4 rounded-md font-medium text-gray-400 hover:bg-gray-800 focus:bg-gray-700 transition-colors duration-200 light:text-gray-600 light:hover:bg-gray-200 light:focus:bg-gray-300&quot;&gt;Media Library&lt;/button&gt;<br> &nbsp; &nbsp;&lt;/div&gt;<br><br> &nbsp; &nbsp;&lt;!-- Dashboard Content --&gt;<br> &nbsp; &nbsp;&lt;section id=&quot;myCoursesSection&quot; class=&quot;bg-gray-800 rounded-lg shadow-lg p-6 w-full light:bg-white light:shadow-sm&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex justify-between items-center mb-6 border-b border-gray-700 pb-4 light:border-gray-200&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;h2 class=&quot;text-xl sm:text-2xl font-semibold text-white light:text-gray-800&quot;&gt;My Courses&lt;/h2&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex items-center&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;span id=&quot;courseCount&quot; class=&quot;text-sm text-gray-500 mr-2 light:text-gray-400&quot;&gt;&lt;/span&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;svg id=&quot;loadingIndicator&quot; class=&quot;animate-spin h-6 w-6 text-green-500 hidden light:text-blue-500&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;circle class=&quot;opacity-25&quot; cx=&quot;12&quot; cy=&quot;12&quot; r=&quot;10&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;4&quot;&gt;&lt;/circle&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;path class=&quot;opacity-75&quot; fill=&quot;currentColor&quot; d=&quot;M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z&quot;&gt;&lt;/path&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/svg&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;div id=&quot;coursesList&quot; class=&quot;grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;!-- Course cards will be rendered here --&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;div id=&quot;noCourses&quot; class=&quot;text-center py-12 text-gray-500 hidden light:text-gray-400&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;p&gt;No courses found. Check back later!&lt;/p&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp;&lt;/section&gt;<br><br> &nbsp; &nbsp;&lt;!-- Admin Panel Section --&gt;<br> &nbsp; &nbsp;&lt;section id=&quot;adminPanelSection&quot; class=&quot;bg-gray-800 rounded-lg shadow-lg p-6 w-full hidden light:bg-white light:shadow-sm&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;h2 class=&quot;text-xl sm:text-2xl font-semibold text-white mb-6 border-b border-gray-700 pb-4 light:text-gray-800 light:border-gray-200&quot;&gt;Admin Panel&lt;/h2&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;grid grid-cols-1 lg:grid-cols-2 gap-6&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;!-- Add User Form --&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;bg-gray-700 p-6 rounded-lg shadow-inner light:bg-gray-50&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;h3 class=&quot;text-lg font-bold text-white mb-4 light:text-gray-800&quot;&gt;Add Student by Email&lt;/h3&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;form id=&quot;addUserForm&quot; class=&quot;space-y-4&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;label for=&quot;studentEmail&quot; class=&quot;block text-sm font-medium text-gray-300 light:text-gray-700&quot;&gt;Student Email&lt;/label&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;input type=&quot;email&quot; id=&quot;studentEmail&quot; name=&quot;studentEmail&quot; required class=&quot;mt-1 block w-full rounded-md border-gray-600 bg-gray-900 text-white shadow-sm p-2 focus:ring-green-500 focus:border-green-500 sm:text-sm light:border-gray-300 light:bg-white light:text-gray-900 light:focus:ring-blue-500 light:focus:border-blue-500&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex justify-end&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;button type=&quot;submit&quot; class=&quot;bg-green-600 text-white px-4 py-2 rounded-md font-medium hover:bg-green-700 transition duration-300 light:bg-blue-600 light:hover:bg-blue-700&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Grant Access<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/button&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/form&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;!-- Create Course Form --&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;bg-gray-700 p-6 rounded-lg shadow-inner light:bg-gray-50&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;h3 class=&quot;text-lg font-bold text-white mb-4 light:text-gray-800&quot;&gt;Create a New Course&lt;/h3&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;form id=&quot;createCourseForm&quot; class=&quot;space-y-4&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;label for=&quot;adminCourseTitle&quot; class=&quot;block text-sm font-medium text-gray-300 light:text-gray-700&quot;&gt;Course Title&lt;/label&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;input type=&quot;text&quot; id=&quot;adminCourseTitle&quot; name=&quot;courseTitle&quot; required class=&quot;mt-1 block w-full rounded-md border-gray-600 bg-gray-900 text-white shadow-sm p-2 focus:ring-green-500 focus:border-green-500 sm:text-sm light:border-gray-300 light:bg-white light:text-gray-900 light:focus:ring-blue-500 light:focus:border-blue-500&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;label for=&quot;adminCourseDescription&quot; class=&quot;block text-sm font-medium text-gray-300 light:text-gray-700&quot;&gt;Course Description&lt;/label&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;textarea id=&quot;adminCourseDescription&quot; name=&quot;courseDescription&quot; rows=&quot;4&quot; required class=&quot;mt-1 block w-full rounded-md border-gray-600 bg-gray-900 text-white shadow-sm p-2 focus:ring-green-500 focus:border-green-500 sm:text-sm light:border-gray-300 light:bg-white light:text-gray-900 light:focus:ring-blue-500 light:focus:border-blue-500&quot;&gt;&lt;/textarea&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex justify-end&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;button type=&quot;submit&quot; class=&quot;bg-green-600 text-white px-4 py-2 rounded-md font-medium hover:bg-green-700 transition duration-300 light:bg-blue-600 light:hover:bg-blue-700&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Save Course<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/button&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/form&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp;&lt;/section&gt;<br> &nbsp; &nbsp;<br> &nbsp; &nbsp;&lt;!-- Media Library Section --&gt;<br> &nbsp; &nbsp;&lt;section id=&quot;mediaLibrarySection&quot; class=&quot;bg-gray-800 rounded-lg shadow-lg p-6 w-full hidden light:bg-white light:shadow-sm&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;h2 class=&quot;text-xl sm:text-2xl font-semibold text-white mb-6 border-b border-gray-700 pb-4 light:text-gray-800 light:border-gray-200&quot;&gt;Media Library&lt;/h2&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex flex-col sm:flex-row items-center justify-between mb-4&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;input type=&quot;file&quot; id=&quot;mediaFile&quot; class=&quot;mb-2 sm:mb-0 block w-full sm:w-auto text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-green-600 file:text-white hover:file:bg-green-700 light:text-gray-700 light:file:bg-blue-600 light:file:hover:bg-blue-700&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;button id=&quot;uploadMediaButton&quot; class=&quot;bg-green-600 text-white px-4 py-2 rounded-md font-medium hover:bg-green-700 transition duration-300 light:bg-blue-600 light:hover:bg-blue-700 w-full sm:w-auto&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Upload File<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/button&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;div id=&quot;mediaFilesList&quot; class=&quot;grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;!-- Media files will be rendered here --&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;div id=&quot;noMediaFiles&quot; class=&quot;text-center py-12 text-gray-500 hidden light:text-gray-400&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;p&gt;No files uploaded yet.&lt;/p&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp;&lt;/section&gt;<br>&lt;/main&gt;<br><br>&lt;!-- Login Modal --&gt;<br>&lt;div id=&quot;loginModal&quot; class=&quot;modal&quot;&gt;<br> &nbsp; &nbsp;&lt;div class=&quot;modal-content&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex justify-between items-center pb-3&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;h3 class=&quot;text-xl font-semibold text-white light:text-gray-800&quot;&gt;Log In to Growsports&lt;/h3&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;span class=&quot;close-modal text-gray-500 hover:text-gray-200 text-2xl cursor-pointer font-bold light:text-gray-400 light:hover:text-gray-700&quot;&gt;&times;&lt;/span&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;form id=&quot;loginForm&quot; class=&quot;space-y-4&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;label for=&quot;loginEmail&quot; class=&quot;block text-sm font-medium text-gray-300 light:text-gray-700&quot;&gt;Email&lt;/label&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;input type=&quot;email&quot; id=&quot;loginEmail&quot; name=&quot;email&quot; required class=&quot;mt-1 block w-full rounded-md border-gray-600 bg-gray-900 text-white shadow-sm p-2 focus:ring-green-500 focus:border-green-500 sm:text-sm light:border-gray-300 light:bg-white light:text-gray-900 light:focus:ring-blue-500 light:focus:border-blue-500&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;label for=&quot;loginPassword&quot; class=&quot;block text-sm font-medium text-gray-300 light:text-gray-700&quot;&gt;Password&lt;/label&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;input type=&quot;password&quot; id=&quot;loginPassword&quot; name=&quot;password&quot; required class=&quot;mt-1 block w-full rounded-md border-gray-600 bg-gray-900 text-white shadow-sm p-2 focus:ring-green-500 focus:border-green-500 sm:text-sm light:border-gray-300 light:bg-white light:text-gray-900 light:focus:ring-blue-500 light:focus:border-blue-500&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex justify-end&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;button type=&quot;submit&quot; class=&quot;bg-green-600 text-white px-4 py-2 rounded-md font-medium hover:bg-green-700 transition duration-300 light:bg-blue-600 light:hover:bg-blue-700&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Log In<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/button&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/form&gt;<br> &nbsp; &nbsp;&lt;/div&gt;<br>&lt;/div&gt;<br><br>&lt;!-- Firebase SDKs --&gt;<br>&lt;script type=&quot;module&quot;&gt;<br> &nbsp; &nbsp;import { initializeApp } from &quot;https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js&quot;;<br> &nbsp; &nbsp;import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut, sendPasswordResetEmail } from &quot;https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js&quot;;<br> &nbsp; &nbsp;import { getFirestore, collection, addDoc, onSnapshot, doc, getDoc, serverTimestamp, setDoc } from &quot;https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js&quot;;<br> &nbsp; &nbsp;import { getStorage, ref, uploadBytes, listAll, deleteObject, getDownloadURL } from &quot;https://www.gstatic.com/firebasejs/11.6.1/firebase-storage.js&quot;;<br> &nbsp; &nbsp;import { setLogLevel } from &quot;https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js&quot;;<br><br> &nbsp; &nbsp;// Global variables for Firebase configuration<br> &nbsp; &nbsp;const appId = &#39;growsports-lms&#39;;<br> &nbsp; &nbsp;const firebaseConfig = {<br> &nbsp; &nbsp; &nbsp; &nbsp;apiKey: &quot;AIzaSyAk_SOaDtFsQZPx--b0kBvCu0ZguyuApzs&quot;,<br> &nbsp; &nbsp; &nbsp; &nbsp;authDomain: &quot;growsports-lms.firebaseapp.com&quot;,<br> &nbsp; &nbsp; &nbsp; &nbsp;projectId: &quot;growsports-lms&quot;,<br> &nbsp; &nbsp; &nbsp; &nbsp;storageBucket: &quot;growsports-lms.firebasestorage.app&quot;,<br> &nbsp; &nbsp; &nbsp; &nbsp;messagingSenderId: &quot;981110350315&quot;,<br> &nbsp; &nbsp; &nbsp; &nbsp;appId: &quot;1:981110350315:web:726d39a024635152c879ae&quot;,<br> &nbsp; &nbsp; &nbsp; &nbsp;measurementId: &quot;G-CP6FSQ2P9B&quot;<br> &nbsp; &nbsp;};<br><br> &nbsp; &nbsp;let db, auth, storage;<br> &nbsp; &nbsp;let user, userRole;<br><br> &nbsp; &nbsp;setLogLevel(&#39;Debug&#39;);<br><br> &nbsp; &nbsp;// Function to display messages in the UI<br> &nbsp; &nbsp;function showMessage(message, type = &#39;success&#39;) {<br> &nbsp; &nbsp; &nbsp; &nbsp;const messageBox = document.getElementById(&#39;messageBox&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const messageText = document.getElementById(&#39;messageText&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;messageText.textContent = message;<br> &nbsp; &nbsp; &nbsp; &nbsp;messageBox.className = `message-box fixed top-24 right-4 p-4 rounded-md shadow-lg z-50 transform-gpu`;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;if (type === &#39;success&#39;) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;messageBox.classList.add(&#39;bg-green-500&#39;, &#39;text-white&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;} else if (type === &#39;error&#39;) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;messageBox.classList.add(&#39;bg-red-500&#39;, &#39;text-white&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// Animate the message box in<br> &nbsp; &nbsp; &nbsp; &nbsp;requestAnimationFrame(() =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;messageBox.classList.remove(&#39;translate-x-full&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;messageBox.classList.add(&#39;translate-x-0&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;});<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// Hide the message box after a few seconds<br> &nbsp; &nbsp; &nbsp; &nbsp;setTimeout(() =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;messageBox.classList.remove(&#39;translate-x-0&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;messageBox.classList.add(&#39;translate-x-full&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}, 3000);<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;// Initialize Firebase<br> &nbsp; &nbsp;async function initializeFirebase() {<br> &nbsp; &nbsp; &nbsp; &nbsp;try {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const app = initializeApp(firebaseConfig);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;db = getFirestore(app);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;auth = getAuth(app);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;storage = getStorage(app);<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;onAuthStateChanged(auth, async (authUser) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (authUser) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;user = authUser;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;userIdDisplay&#39;).textContent = `User ID: ${user.uid}`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;userIdDisplay&#39;).classList.remove(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;authButton&#39;).classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;logoutButton&#39;).classList.remove(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;mainContent&#39;).classList.remove(&#39;hidden&#39;);<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Check user role from Firestore<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const userDocRef = doc(db, `/artifacts/${appId}/users/${user.uid}`);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const userDoc = await getDoc(userDocRef);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;userRole = userDoc.exists() ? userDoc.data().role : &#39;student&#39;;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Show admin tabs if the user is an admin<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (userRole === &#39;admin&#39;) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;adminTabs&#39;).classList.remove(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;adminPanelTab&#39;).click();<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;adminTabs&#39;).classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;myCoursesTab&#39;).click();<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;setupRealtimeListener();<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(`Welcome back, ${user.email}!`, &#39;success&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;user = null;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;userRole = null;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;userIdDisplay&#39;).classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;authButton&#39;).classList.remove(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;logoutButton&#39;).classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;mainContent&#39;).classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;loginModal&#39;).style.display = &#39;block&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp; &nbsp; &nbsp;} catch (error) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Error initializing Firebase:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Failed to connect to the database. Please try again.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;// Function to set up the real-time listener for courses<br> &nbsp; &nbsp;function setupRealtimeListener() {<br> &nbsp; &nbsp; &nbsp; &nbsp;if (!db) return;<br> &nbsp; &nbsp; &nbsp; &nbsp;const loadingIndicator = document.getElementById(&#39;loadingIndicator&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;loadingIndicator.classList.remove(&#39;hidden&#39;);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// Listen to the public courses collection<br> &nbsp; &nbsp; &nbsp; &nbsp;const coursesCollectionPath = `/artifacts/${appId}/public/data/courses`;<br> &nbsp; &nbsp; &nbsp; &nbsp;const coursesRef = collection(db, coursesCollectionPath);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;onSnapshot(coursesRef, (snapshot) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const coursesList = document.getElementById(&#39;coursesList&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const noCoursesMessage = document.getElementById(&#39;noCourses&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const courseCount = document.getElementById(&#39;courseCount&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;coursesList.innerHTML = &#39;&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;loadingIndicator.classList.add(&#39;hidden&#39;);<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (snapshot.empty) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noCoursesMessage.classList.remove(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;courseCount.textContent = `0 courses`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noCoursesMessage.classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;courseCount.textContent = `${snapshot.size} courses`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;snapshot.forEach(doc =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const course = doc.data();<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const courseId = doc.id;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const card = document.createElement(&#39;div&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;card.className = &quot;bg-gray-700 p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 light:bg-white&quot;;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Placeholder for course completion percentage<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const completionPercentage = &quot;0%&quot;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const completionBar = `&lt;div class=&quot;w-full bg-gray-600 rounded-full h-2.5 mb-2 light:bg-gray-200&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;bg-green-500 h-2.5 rounded-full&quot; style=&quot;width: ${completionPercentage}&quot;&gt;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;p class=&quot;text-xs text-gray-400 mb-4 light:text-gray-500&quot;&gt;${completionPercentage} Complete&lt;/p&gt;`;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Placeholder for lessons, quizzes, and notes<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const courseContent = `<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;space-y-2 mt-4 text-sm text-gray-300 light:text-gray-700&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;p&gt;&lt;strong&gt;Video Lectures:&lt;/strong&gt; (Coming Soon)&lt;/p&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;p&gt;&lt;strong&gt;Quizzes:&lt;/strong&gt; (Coming Soon)&lt;/p&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;p&gt;&lt;strong&gt;Notes:&lt;/strong&gt; (Coming Soon)&lt;/p&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;card.innerHTML = `<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;h3 class=&quot;text-lg font-bold text-white mb-2 light:text-gray-900&quot;&gt;${course.title}&lt;/h3&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;p class=&quot;text-gray-400 text-sm mb-4 light:text-gray-600&quot;&gt;${course.description}&lt;/p&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;${completionBar}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;${courseContent}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex justify-between items-center text-xs text-gray-500 mt-4 border-t border-gray-600 pt-4 light:text-gray-400 light:border-gray-200&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;span&gt;Created by: ${course.authorId.substring(0, 8)}...&lt;/span&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;span&gt;${new Date(course.createdAt.seconds * 1000).toLocaleDateString()}&lt;/span&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;coursesList.appendChild(card);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;}, (error) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Error listening to courses:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Failed to load courses. Check the console for details.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;loadingIndicator.classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;// Handle login form submission<br> &nbsp; &nbsp;async function handleLogin(event) {<br> &nbsp; &nbsp; &nbsp; &nbsp;event.preventDefault();<br> &nbsp; &nbsp; &nbsp; &nbsp;const email = document.getElementById(&#39;loginEmail&#39;).value;<br> &nbsp; &nbsp; &nbsp; &nbsp;const password = document.getElementById(&#39;loginPassword&#39;).value;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;try {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;await signInWithEmailAndPassword(auth, email, password);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;loginModal&#39;).style.display = &#39;none&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Login successful!&#39;, &#39;success&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;} catch (error) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Login error:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Login failed: &#39; + error.message, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;// Handle logout<br> &nbsp; &nbsp;async function handleLogout() {<br> &nbsp; &nbsp; &nbsp; &nbsp;try {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;await signOut(auth);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;You have been logged out.&#39;, &#39;success&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;} catch (error) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Logout error:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Logout failed: &#39; + error.message, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;// Handle form submission to create a new course (Admin only)<br> &nbsp; &nbsp;async function handleCreateCourse(event) {<br> &nbsp; &nbsp; &nbsp; &nbsp;event.preventDefault();<br> &nbsp; &nbsp; &nbsp; &nbsp;if (userRole !== &#39;admin&#39;) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;You must be an admin to create courses.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp;const courseTitle = document.getElementById(&#39;adminCourseTitle&#39;).value;<br> &nbsp; &nbsp; &nbsp; &nbsp;const courseDescription = document.getElementById(&#39;adminCourseDescription&#39;).value;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;try {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const coursesCollectionPath = `/artifacts/${appId}/public/data/courses`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const coursesRef = collection(db, coursesCollectionPath);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;await addDoc(coursesRef, {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;title: courseTitle,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;description: courseDescription,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;authorId: user.uid,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;authorEmail: user.email,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;createdAt: serverTimestamp()<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Course created successfully!&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;createCourseForm&#39;).reset();<br> &nbsp; &nbsp; &nbsp; &nbsp;} catch (error) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Error adding document:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Failed to create course. Please try again.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;// Handle admin adding a new user (Admin only)<br> &nbsp; &nbsp;async function handleAddUser(event) {<br> &nbsp; &nbsp; &nbsp; &nbsp;event.preventDefault();<br> &nbsp; &nbsp; &nbsp; &nbsp;if (userRole !== &#39;admin&#39;) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;You must be an admin to add users.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp;const email = document.getElementById(&#39;studentEmail&#39;).value;<br> &nbsp; &nbsp; &nbsp; &nbsp;try {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// To grant a user access, we&#39;ll create a user document in Firestore.<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// This Firestore document serves as an access list.<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const newUserDocRef = doc(db, `/artifacts/${appId}/users/${btoa(email).replace(/=/g, &#39;&#39;)}`);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;await setDoc(newUserDocRef, {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;email: email,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;role: &#39;student&#39;,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;createdAt: serverTimestamp(),<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;accessGrantedBy: user.email<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(`Access granted for ${email}. They can now create an account via the login screen.`, &#39;success&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;addUserForm&#39;).reset();<br> &nbsp; &nbsp; &nbsp; &nbsp;} catch (error) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Error adding user:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Failed to add user: &#39; + error.message, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;<br> &nbsp; &nbsp;// --- Media Library Functions ---<br> &nbsp; &nbsp;async function handleMediaUpload() {<br> &nbsp; &nbsp; &nbsp; &nbsp;if (userRole !== &#39;admin&#39; || !user) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;You must be an admin to upload media.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp;const fileInput = document.getElementById(&#39;mediaFile&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const file = fileInput.files[0];<br> &nbsp; &nbsp; &nbsp; &nbsp;if (!file) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Please select a file to upload.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;// The file path in storage: media/{user.uid}/{fileName}<br> &nbsp; &nbsp; &nbsp; &nbsp;const mediaRef = ref(storage, `media/${user.uid}/${file.name}`);<br> &nbsp; &nbsp; &nbsp; &nbsp;try {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;await uploadBytes(mediaRef, file);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;File uploaded successfully!&#39;, &#39;success&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fileInput.value = &#39;&#39;; // Clear the input<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fetchMediaFiles(); // Refresh the list<br> &nbsp; &nbsp; &nbsp; &nbsp;} catch (error) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Upload error:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;File upload failed: &#39; + error.message, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;<br> &nbsp; &nbsp;async function fetchMediaFiles() {<br> &nbsp; &nbsp; &nbsp; &nbsp;if (!storage) return;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;const mediaFilesList = document.getElementById(&#39;mediaFilesList&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const noMediaFilesMessage = document.getElementById(&#39;noMediaFiles&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;mediaFilesList.innerHTML = &#39;&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;const listRef = ref(storage, `media/${user.uid}`);<br> &nbsp; &nbsp; &nbsp; &nbsp;try {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const res = await listAll(listRef);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (res.items.length === 0) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noMediaFilesMessage.classList.remove(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noMediaFilesMessage.classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for (const itemRef of res.items) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const fileContainer = document.createElement(&#39;div&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fileContainer.className = &quot;bg-gray-700 p-4 rounded-md flex items-center justify-between space-x-2 light:bg-gray-200&quot;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const fileName = itemRef.name;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Check if file is a video or image to display a relevant icon<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const fileIcon = fileName.match(/\.(mp4|mov|avi|webm)$/i) ? <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`&lt;svg class=&quot;w-6 h-6 text-green-500 light:text-blue-500&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt; &lt;path stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M15 10l4.553-2.276A1 1 0 0121 8.724v6.552a1 1 0 01-1.447.894L15 14M5 18H3a2 2 0 01-2-2V8a2 2 0 012-2h3.93l3.57-2.148a1 1 0 011.45.894v11.5a1 1 0 01-1.45.894L9.93 18H5z&quot;/&gt; &lt;/svg&gt;` : <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`&lt;svg class=&quot;w-6 h-6 text-green-500 light:text-blue-500&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt; &lt;path stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z&quot;/&gt; &lt;/svg&gt;`;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fileContainer.innerHTML = `<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex items-center space-x-2 truncate&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;${fileIcon}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;span class=&quot;truncate text-gray-300 light:text-gray-900&quot;&gt;${fileName}&lt;/span&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;flex items-center space-x-2&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;a href=&quot;#&quot; class=&quot;download-link text-sm text-green-400 hover:text-green-300 light:text-blue-600 light:hover:text-blue-500&quot; data-name=&quot;${fileName}&quot;&gt;Download&lt;/a&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;button class=&quot;delete-file-btn text-red-400 hover:text-red-300 transition-colors duration-200&quot; data-name=&quot;${fileName}&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;svg class=&quot;w-5 h-5&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;path stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16&quot; /&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/svg&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/button&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mediaFilesList.appendChild(fileContainer);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;} catch (error) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Error listing files:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Failed to load media files.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;<br> &nbsp; &nbsp;async function handleDeleteFile(fileName) {<br> &nbsp; &nbsp; &nbsp; &nbsp;const fileRef = ref(storage, `media/${user.uid}/${fileName}`);<br> &nbsp; &nbsp; &nbsp; &nbsp;try {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;await deleteObject(fileRef);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(`File &quot;${fileName}&quot; deleted successfully.`, &#39;success&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fetchMediaFiles(); // Refresh the list<br> &nbsp; &nbsp; &nbsp; &nbsp;} catch (error) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Error deleting file:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Failed to delete file: &#39; + error.message, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;// Handle form submission to create a new course (Admin only)<br> &nbsp; &nbsp;async function handleCreateCourse(event) {<br> &nbsp; &nbsp; &nbsp; &nbsp;event.preventDefault();<br> &nbsp; &nbsp; &nbsp; &nbsp;if (userRole !== &#39;admin&#39;) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;You must be an admin to create courses.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp;const courseTitle = document.getElementById(&#39;adminCourseTitle&#39;).value;<br> &nbsp; &nbsp; &nbsp; &nbsp;const courseDescription = document.getElementById(&#39;adminCourseDescription&#39;).value;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;try {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const coursesCollectionPath = `/artifacts/${appId}/public/data/courses`;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const coursesRef = collection(db, coursesCollectionPath);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;await addDoc(coursesRef, {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;title: courseTitle,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;description: courseDescription,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;authorId: user.uid,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;authorEmail: user.email,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;createdAt: serverTimestamp()<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Course created successfully!&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;createCourseForm&#39;).reset();<br> &nbsp; &nbsp; &nbsp; &nbsp;} catch (error) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Error adding document:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Failed to create course. Please try again.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;// Handle admin adding a new user (Admin only)<br> &nbsp; &nbsp;async function handleAddUser(event) {<br> &nbsp; &nbsp; &nbsp; &nbsp;event.preventDefault();<br> &nbsp; &nbsp; &nbsp; &nbsp;if (userRole !== &#39;admin&#39;) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;You must be an admin to add users.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp;const email = document.getElementById(&#39;studentEmail&#39;).value;<br> &nbsp; &nbsp; &nbsp; &nbsp;try {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// To grant a user access, we&#39;ll create a user document in Firestore.<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// This Firestore document serves as an access list.<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const newUserDocRef = doc(db, `/artifacts/${appId}/users/${btoa(email).replace(/=/g, &#39;&#39;)}`);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;await setDoc(newUserDocRef, {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;email: email,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;role: &#39;student&#39;,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;createdAt: serverTimestamp(),<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;accessGrantedBy: user.email<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(`Access granted for ${email}. They can now create an account via the login screen.`, &#39;success&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;document.getElementById(&#39;addUserForm&#39;).reset();<br> &nbsp; &nbsp; &nbsp; &nbsp;} catch (error) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Error adding user:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Failed to add user: &#39; + error.message, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;<br> &nbsp; &nbsp;// Theme toggle functionality<br> &nbsp; &nbsp;const themeToggle = document.getElementById(&#39;themeToggle&#39;);<br> &nbsp; &nbsp;function toggleTheme() {<br> &nbsp; &nbsp; &nbsp; &nbsp;const body = document.body;<br> &nbsp; &nbsp; &nbsp; &nbsp;if (body.classList.contains(&#39;dark&#39;)) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;body.classList.remove(&#39;dark&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;body.classList.add(&#39;light&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;localStorage.setItem(&#39;theme&#39;, &#39;light&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;} else {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;body.classList.remove(&#39;light&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;body.classList.add(&#39;dark&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;localStorage.setItem(&#39;theme&#39;, &#39;dark&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;<br> &nbsp; &nbsp;// Load theme from localStorage on page load<br> &nbsp; &nbsp;function loadTheme() {<br> &nbsp; &nbsp; &nbsp; &nbsp;const savedTheme = localStorage.getItem(&#39;theme&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const body = document.body;<br> &nbsp; &nbsp; &nbsp; &nbsp;if (savedTheme) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;body.classList.remove(&#39;dark&#39;, &#39;light&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;body.classList.add(savedTheme);<br> &nbsp; &nbsp; &nbsp; &nbsp;} else {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Default to dark theme if no preference is saved<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;body.classList.add(&#39;dark&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;// DOMContentLoaded event listener<br> &nbsp; &nbsp;document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp;loadTheme();<br> &nbsp; &nbsp; &nbsp; &nbsp;themeToggle.addEventListener(&#39;click&#39;, toggleTheme);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;const loginModal = document.getElementById(&#39;loginModal&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const loginButton = document.getElementById(&#39;authButton&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const logoutButton = document.getElementById(&#39;logoutButton&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const closeModalButton = document.querySelector(&#39;.close-modal&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const loginForm = document.getElementById(&#39;loginForm&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const myCoursesTab = document.getElementById(&#39;myCoursesTab&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const adminPanelTab = document.getElementById(&#39;adminPanelTab&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const mediaLibraryTab = document.getElementById(&#39;mediaLibraryTab&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const myCoursesSection = document.getElementById(&#39;myCoursesSection&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const adminPanelSection = document.getElementById(&#39;adminPanelSection&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const mediaLibrarySection = document.getElementById(&#39;mediaLibrarySection&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const createCourseForm = document.getElementById(&#39;createCourseForm&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const addUserForm = document.getElementById(&#39;addUserForm&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const uploadMediaButton = document.getElementById(&#39;uploadMediaButton&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;const mediaFilesList = document.getElementById(&#39;mediaFilesList&#39;);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// Show login modal on button click<br> &nbsp; &nbsp; &nbsp; &nbsp;loginButton.addEventListener(&#39;click&#39;, () =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;loginModal.style.display = &#39;block&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp;});<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// Handle tab clicks for navigation<br> &nbsp; &nbsp; &nbsp; &nbsp;myCoursesTab.addEventListener(&#39;click&#39;, () =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;myCoursesSection.classList.remove(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;adminPanelSection.classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mediaLibrarySection.classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp; &nbsp; &nbsp;adminPanelTab.addEventListener(&#39;click&#39;, () =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;adminPanelSection.classList.remove(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;myCoursesSection.classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mediaLibrarySection.classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp; &nbsp; &nbsp;mediaLibraryTab.addEventListener(&#39;click&#39;, () =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mediaLibrarySection.classList.remove(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;myCoursesSection.classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;adminPanelSection.classList.add(&#39;hidden&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fetchMediaFiles();<br> &nbsp; &nbsp; &nbsp; &nbsp;});<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// Handle modal close events<br> &nbsp; &nbsp; &nbsp; &nbsp;closeModalButton.addEventListener(&#39;click&#39;, () =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;loginModal.style.display = &#39;none&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp;});<br><br> &nbsp; &nbsp; &nbsp; &nbsp;window.addEventListener(&#39;click&#39;, (event) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (event.target === loginModal) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;loginModal.style.display = &#39;none&#39;;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;});<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// Handle media files list actions (download and delete)<br> &nbsp; &nbsp; &nbsp; &nbsp;mediaFilesList.addEventListener(&#39;click&#39;, async (event) =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (event.target.classList.contains(&#39;delete-file-btn&#39;)) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const fileName = event.target.dataset.name;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;handleDeleteFile(fileName);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else if (event.target.classList.contains(&#39;download-link&#39;)) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;event.preventDefault(); // Prevent default link behavior<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const fileName = event.target.dataset.name;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const fileRef = ref(storage, `media/${user.uid}/${fileName}`);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;try {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const url = await getDownloadURL(fileRef);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;window.open(url, &#39;_blank&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} catch (error) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.error(&quot;Download URL error:&quot;, error);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showMessage(&#39;Failed to get download URL.&#39;, &#39;error&#39;);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;});<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// Attach form and button listeners<br> &nbsp; &nbsp; &nbsp; &nbsp;loginForm.addEventListener(&#39;submit&#39;, handleLogin);<br> &nbsp; &nbsp; &nbsp; &nbsp;logoutButton.addEventListener(&#39;click&#39;, handleLogout);<br> &nbsp; &nbsp; &nbsp; &nbsp;createCourseForm.addEventListener(&#39;submit&#39;, handleCreateCourse);<br> &nbsp; &nbsp; &nbsp; &nbsp;addUserForm.addEventListener(&#39;submit&#39;, handleAddUser);<br> &nbsp; &nbsp; &nbsp; &nbsp;uploadMediaButton.addEventListener(&#39;click&#39;, handleMediaUpload);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// Initialize Firebase<br> &nbsp; &nbsp; &nbsp; &nbsp;initializeFirebase();<br> &nbsp; &nbsp;});<br>&lt;/script&gt;<br></span></p><p class="c1"><span class="c0">&lt;/body&gt;</span></p><p class="c1"><span class="c0">&lt;/html&gt;</span></p><p class="c1"><span class="c0">PK (</span></p></body></html>